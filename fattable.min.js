(function(){function A(c,a){function b(){this.constructor=c}for(var e in a)I.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.T=a.prototype}var x,B,C,D,E,w,y,F,G,z,H,J,I={}.hasOwnProperty;G=function(c){var a,b,e,d,k;a=[0];d=b=0;for(k=c.length;d<k;d++)e=c[d],b+=e,a.push(b);return a};document.addEventListener("DOMContentLoaded",function(){return document.removeEventListener("DOMContentLoaded",arguments.callee)});z=new (function(){function c(){this.K=[];this.Q=this.result=!1}c.prototype.ha=
function(a){this.Q?a(this.result):this.K.push(a)};c.prototype.ea=function(){var a,b,e,d,k;this.Q=!0;this.result=void 0;d=this.K;k=[];b=0;for(e=d.length;b<e;b++)a=d[b],k.push(a(void 0));return k};return c}());document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee);return z.ea()});w=function(){function c(){}c.prototype.B=function(){return!1};c.prototype.H=function(){return!1};c.prototype.v=function(a,b,e){null==e&&(e=function(){});return setTimeout(function(){return e(a+
","+b)},100)};c.prototype.A=function(a,b){null==b&&(b=function(){});return b("col "+a)};return c}();E=function(c){function a(){return J=a.T.constructor.apply(this,arguments)}A(a,c);a.prototype.B=function(){return!0};a.prototype.H=function(){return!0};a.prototype.v=function(b,a,d){null==d&&(d=function(){});return d("cell"+b+","+a)};a.prototype.A=function(b,a){null==a&&(a=function(){});return a("col "+b)};return a}(w);B=function(){function c(a){this.size=null!=a?a:100;this.data={};this.w=[]}c.prototype.O=
function(){return this.data.hasOwnProperty(void 0)};c.prototype.get=function(a){return this.data[a]};c.prototype.set=function(a,b){var e;e=this.w.indexOf(a);0<=e&&this.w.splice(e,1);this.w.push(a);this.w.length>=this.size&&(e=this.w.shift(),delete this.data[e]);return this.data[a]=b};return c}();C=function(c){function a(a){null==a&&(a=100);this.D=new B(a);this.t={}}A(a,c);a.prototype.B=function(){return this.D.O()};a.prototype.v=function(a,e,d){var k=this;null==d&&(d=function(){});if(this.D.O())return d(this.D.get(void 0)(a,
e));if(null!=this.t[void 0])return this.t[void 0].push([a,e,d]);this.t[void 0]=[[a,e,d]];return this.U(function(c){var h,f,l,m;l=k.t[void 0];h=0;for(f=l.length;h<f;h++)m=l[h],a=m[0],e=m[1],d=m[2],d(c(a,e));delete k.t[void 0];return k.D.set(void 0,c)})};a.prototype.U=function(a){var e,d,k,c;c=JSON.parse(void 0);e=c[0];d=c[1];k=function(a,b){return"undefined:"+(a-e)+","+(b-d)};return window.setTimeout(function(){return a(k)},500)};a.prototype.H=function(){return!0};a.prototype.A=function(a,e){null==
e&&(e=function(){});return e("col "+a)};return a}(w);F=function(c,a){var b,e,d,k;if(c[0]>a)return 0;b=0;for(e=c.length;b+2<e;)if(d=(b+e)/2|0,k=c[d],k<a)b=d;else if(k>a)e=d;else return d;return b};x=function(){function c(){}c.prototype.M=function(a,b){return a.textContent=b};c.prototype.G=function(a,b){return a.textContent=b};c.prototype.V=function(a){a.textContent="NA"};c.prototype.L=function(a){a.textContent="NA"};return c}();H=function(c,a){var b,e;b=1;for(e=0;e+b<c.length;)c[e+b]-c[e]>a?e+=1:b+=
1;return b};D=function(){function c(a,b,e){var d=this;this.a=a;this.g=b;this.o=e;this.f=document.createElement("div");this.f.className+=" fattable-v-scrollbar";this.c=document.createElement("div");this.c.className+=" fattable-h-scrollbar";this.a.appendChild(this.f);this.a.appendChild(this.c);a=document.createElement("div");a.style.height="1px";a.style.width=this.g+"px";b=document.createElement("div");b.style.width="1px";b.style.height=this.o+"px";this.c.appendChild(a);this.f.appendChild(b);this.scrollTop=
this.scrollLeft=0;this.c.onscroll=function(){d.scrollLeft=d.c.scrollLeft;return d.l(d.scrollLeft,d.scrollTop)};this.f.onscroll=function(){d.scrollTop=d.f.scrollTop;return d.l(d.scrollLeft,d.scrollTop)};this.a.addEventListener("mousedown",function(a){if(1===a.button)return d.C=!0,d.aa=d.scrollLeft+a.clientX,d.ba=d.scrollTop+a.clientY});this.a.addEventListener("mouseup",function(){return d.C=!1});this.a.addEventListener("mousemove",function(a){var b;if(d.C)return b=-a.clientX+d.aa,a=-a.clientY+d.ba,
d.R(b,a)});this.a.addEventListener("mouseout",function(a){if(d.C&&(null===a.toElement||a.toElement.parentElement.parentElement!==d.a))return d.C=!1});this.X=this.g>this.c.clientWidth?this.g-this.c.clientWidth:0;this.Y=this.o>this.f.clientHeight?this.o-this.f.clientHeight:0;a=function(a){if("mousewheel"===a.type)return d.R(d.scrollLeft,d.scrollTop-a.wheelDelta)};this.a.addEventListener?(this.a.addEventListener("mousewheel",a,!1),this.a.addEventListener("DOMMouseScroll",a,!1)):this.a.attachEvent("onmousewheel",
a)}c.prototype.l=function(){};c.prototype.R=function(a,b){var e;a=Math.max(a,0);a=Math.min(a,this.X);b=Math.max(b,0);b=Math.min(b,this.Y);e=this.l;this.l=function(){};this.scrollLeft=a;this.scrollTop=b;this.c.scrollLeft=a;this.f.scrollTop=b;this.l(a,b);return this.l=e};return c}();y=function(){function c(a){var b,e=this;b=a.a;if(null==b)throw"container not specified.";if("string"===typeof b)this.a=document.querySelector(b);else if("object"===typeof b)this.a=b;else throw"Container must be a string or a dom element.";
this.n(a,"painter",new x);this.n(a,"data");this.n(a,"nbRows");this.n(a,"rowHeight");this.n(a,"columnWidths");this.n(a,"rowHeight");this.n(a,"headerHeight");this.ca=this.F.length;this.a.className+=" fattable";this.o=this.J*this.da;this.q=G(this.F);this.g=this.q[this.q.length-1];z.ha(function(){return e.S()});window.addEventListener("resize",function(){return e.S()})}c.prototype.n=function(a,b,e){if(null==a[b]){if(void 0===e)throw"Expected parameter <"+b+">";this[b]=e}else this[b]=a[b]};c.prototype.visible=
function(a,b){var e,d;d=F(this.q,a);e=b/this.J|0;e=Math.max(0,e);e=Math.min(e,this.da-this.d);d=Math.max(0,d);d=Math.min(d,this.ca-this.b);return[e,d]};c.prototype.S=function(){var a,b,e,d,c,g,h,f=this;this.r={};this.cells={};this.a.innerHTML="";this.ia=this.a.offsetWidth;this.W=this.a.offsetHeight-this.I;this.b=Math.min(H(this.q,this.ia)+2,this.F.length);this.d=(this.W/this.J|0)+2;this.k=document.createElement("div");this.k.className+=" fattable-header-container";this.k.style.height=this.I+"px";
this.p=document.createElement("div");this.p.className="fattable-viewport";this.p.style.width=this.g+"px";this.p.style.height=this.I+"px";this.k.appendChild(this.p);this.h=document.createElement("div");this.h.className="fattable-body-container";this.h.style.top=this.I+"px";this.i=document.createElement("div");this.i.className="fattable-viewport";this.i.style.width=this.g+"px";this.i.style.height=this.o+"px";d=a=this.b;for(g=2*this.b;a<g;d=a+=1)for(e=c=this.d,h=2*this.d;c<h;e=c+=1)b=document.createElement("div"),
this.i.appendChild(b),this.cells[e+","+d]=b;a=c=this.b;for(g=2*this.b;c<g;a=c+=1)b=document.createElement("div"),this.r[a]=b,this.p.appendChild(b);this.u=this.d;this.j=this.b;this.N(0,0);this.a.appendChild(this.h);this.a.appendChild(this.k);this.h.appendChild(this.i);this.P();this.fa=new D(this.h,this.g,this.o);return this.fa.l=function(a,b){var c;c=f.visible(a,b);e=c[0];d=c[1];f.N(e,d);f.p.style.left=-a+"px";f.i.style.left=-a+"px";f.i.style.top=-b+"px";clearTimeout(f.ga);return f.ga=setTimeout(f.P.bind(f),
200)}};c.prototype.P=function(){var a,b,e,d,c,g,h,f,l,m=this;g=function(a){m.data.A(d,function(b){return m.m.M(a,b)})};l=[];d=h=this.j;for(f=this.j+this.b;h<f;d=h+=1)b=this.r[d],g(b),l.push(function(){var b,f,g,h=this;g=[];e=b=this.u;for(f=this.u+this.d;b<f;e=b+=1)c=e+","+d,a=this.cells[c],g.push(function(a){return h.data.v(e,d,function(b){a.e=!1;return h.m.G(a,b)})}(a));return g}.call(this));return l};c.prototype.N=function(a,b){this.k.style.display="none";this.h.style.display="none";this.Z(b);this.$(a);
this.k.style.display="";this.h.style.display=""};c.prototype.Z=function(a){var b,e,d,c,g,h,f,l,m,n,q,r,p,t,u,v=this;m=this.u;q=a-this.j;if(0!==q){h=Math.min(Math.abs(q),this.b);for(b=p=0;p<h;b=p+=1){if(0<q)n=this.j+b,g=a+b+this.b-h;else if(n=this.j+this.b-h+b,g=a+b,g>=this.b)break;d=this.q[g]+"px";e=this.F[g]+"px";c=this.r[n];delete this.r[n];this.data.H(g)?this.data.A(g,function(a){c.e=!1;return v.m.M(c,a)}):c.e||(c.e=!0,this.m.V(c));c.style.left=d;c.style.width=e;this.r[g]=c;r=function(a){v.data.B(f,
g)?v.data.v(f,g,function(b){a.e=!1;return v.m.G(a,b)}):a.e||(a.e=!0,v.m.L(a))};f=t=m;for(u=m+this.d;t<u;f=t+=1)l=f+","+n,b=this.cells[l],delete this.cells[l],this.cells[f+","+g]=b,b.style.left=d,b.style.width=e,r(b)}this.j=a}};c.prototype.$=function(a){var b,c,d,k,g,h,f,l,m,n,q,r,p,t,u=this;h=this.u;f=this.j;n=a-h;if(0!==n){d=Math.min(Math.abs(n),this.d);for(b=r=0;r<d;b=r+=1)for(0<n?(l=h+b,c=a+b+this.d-d):(l=h+this.d-d+b,c=a+b),m=c*this.J+"px",q=function(a){u.data.B(c,k)?u.data.v(c,k,function(b){a.e=
!1;return u.m.G(a,b)}):a.e||(a.e=!0,u.m.L(a))},k=p=f,t=f+this.b;p<t;k=p+=1)g=l+","+k,b=this.cells[g],delete this.cells[g],this.cells[c+","+k]=b,b.style.top=m,q(b);this.u=a}};return c}();window.s=function(c){return new y(c)};window.s.ma=w;window.s.na=y;window.s.ja=x;window.s.ka=C;window.s.la=E}).call(this);
