(function(){function E(c,a){function b(){this.constructor=c}for(var e in a)K.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.R=a.prototype}var F,v,z,G,x,y,A,H,u,I,B,C,D,J,L,K={}.hasOwnProperty;I=function(c){var a,b,e,d,f;a=[0];d=b=0;for(f=c.length;d<f;d++)e=c[d],b+=e,a.push(b);return a};document.addEventListener("DOMContentLoaded",function(){return document.removeEventListener("DOMContentLoaded",arguments.callee)});u=function(c,a,b){return c<a?a:c>b?b:c};B=new (function(){function c(){this.J=
[];this.P=this.result=!1}c.prototype.ha=function(a){this.P?a(this.result):this.J.push(a)};c.prototype.da=function(){var a,b,e,d,f;this.P=!0;this.result=void 0;d=this.J;f=[];b=0;for(e=d.length;b<e;b++)a=d[b],f.push(a(void 0));return f};return c}());document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee);return B.da()});y=function(){function c(){}c.prototype.B=function(){return!1};c.prototype.I=function(){return!1};c.prototype.v=function(a,
b,e){null==e&&(e=function(){});return setTimeout(function(){return e(a+","+b)},100)};c.prototype.A=function(a,b){null==b&&(b=function(){});return b("col "+a)};return c}();x=function(c){function a(){return L=a.R.constructor.apply(this,arguments)}E(a,c);a.prototype.B=function(){return!0};a.prototype.I=function(){return!0};a.prototype.v=function(b,a,d){null==d&&(d=function(){});return d("cell"+b+","+a)};a.prototype.A=function(b,a){null==a&&(a=function(){});return a("col "+b)};return a}(y);F=function(){function c(a){this.size=
null!=a?a:100;this.data={};this.w=[]}c.prototype.N=function(){return this.data.hasOwnProperty(void 0)};c.prototype.get=function(a){return this.data[a]};c.prototype.set=function(a,b){var e;e=this.w.indexOf(a);0<=e&&this.w.splice(e,1);this.w.push(a);this.w.length>=this.size&&(e=this.w.shift(),delete this.data[e]);return this.data[a]=b};return c}();v=function(c){function a(b){null==b&&(b=100);this.D=new F(b);this.t={}}E(a,c);a.prototype.B=function(){return this.D.N()};a.prototype.v=function(b,a,d){var f=
this;null==d&&(d=function(){});if(this.D.N())return d(this.D.get(void 0)(b,a));if(null!=this.t[void 0])return this.t[void 0].push([b,a,d]);this.t[void 0]=[[b,a,d]];return this.V(function(c){var k,h,l,m;l=f.t[void 0];k=0;for(h=l.length;k<h;k++)m=l[k],b=m[0],a=m[1],d=m[2],d(c(b,a));delete f.t[void 0];return f.D.set(void 0,c)})};a.prototype.V=function(a){var e,d,c,g;g=JSON.parse(void 0);e=g[0];d=g[1];c=function(a,b){return"undefined:"+(a-e)+","+(b-d)};return window.setTimeout(function(){return a(c)},
500)};a.prototype.I=function(){return!0};a.prototype.A=function(a,e){null==e&&(e=function(){});return e("col "+a)};return a}(y);H=function(c,a){var b,e,d,f;if(c[0]>a)return 0;b=0;for(e=c.length;b+2<e;)if(d=(b+e)/2|0,f=c[d],f<a)b=d;else if(f>a)e=d;else return d;return b};z=function(){function c(){}c.prototype.S=function(a){var b,e;e=a.cells;for(b in e);a=a.k;e=[];for(b in a)e.push(void 0)};c.prototype.L=function(a,b){return a.textContent=b};c.prototype.H=function(a,b){return a.textContent=b};c.prototype.W=
function(a){a.textContent="NA"};c.prototype.K=function(a){a.textContent="NA"};return c}();J=function(c,a){var b,e;b=1;for(e=0;e+b<c.length;)c[e+b]-c[e]>a?e+=1:b+=1;return b};G=function(){function c(a,b,e){var d=this;this.a=a;this.h=b;this.o=e;this.f=document.createElement("div");this.f.className+=" fattable-v-scrollbar";this.d=document.createElement("div");this.d.className+=" fattable-h-scrollbar";this.a.appendChild(this.f);this.a.appendChild(this.d);a=document.createElement("div");a.style.height=
"1px";a.style.width=this.h+"px";b=document.createElement("div");b.style.width="1px";b.style.height=this.o+"px";this.d.appendChild(a);this.f.appendChild(b);this.scrollTop=this.scrollLeft=0;this.d.onscroll=function(){if(!d.p)return d.scrollLeft=d.d.scrollLeft,d.r(d.scrollLeft,d.scrollTop)};this.f.onscroll=function(){if(!d.p)return d.scrollTop=d.f.scrollTop,d.r(d.scrollLeft,d.scrollTop)};this.a.addEventListener("mousedown",function(a){if(1===a.button)return d.p=!0,d.a.className="fattable-body-container fattable-moving",
d.T=d.scrollLeft+a.clientX,d.U=d.scrollTop+a.clientY});this.a.addEventListener("mouseup",function(){d.p=!1;return d.a.className="fattable-body-container"});this.a.addEventListener("mousemove",function(a){var b;if(d.p)return b=-a.clientX+d.T,a=-a.clientY+d.U,d.Q(b,a)});this.a.addEventListener("mouseout",function(a){if(d.p&&(null===a.toElement||a.toElement.parentElement.parentElement!==d.a))return d.a.className="fattable-body-container",d.p=!1});this.Y=this.h>this.d.clientWidth?this.h-this.d.clientWidth:
0;this.Z=this.o>this.f.clientHeight?this.o-this.f.clientHeight:0;a=function(a){if("mousewheel"===a.type)return d.Q(d.scrollLeft-a.wheelDeltaX,d.scrollTop-a.wheelDeltaY)};this.a.addEventListener?(this.a.addEventListener("mousewheel",a,!1),this.a.addEventListener("DOMMouseScroll",a,!1)):this.a.attachEvent("onmousewheel",a)}c.prototype.r=function(){};c.prototype.Q=function(a,b){a=u(a,0,this.Y);b=u(b,0,this.Z);this.scrollLeft=a;this.scrollTop=b;this.d.scrollLeft=a;this.f.scrollTop=b;return this.r(a,b)};
return c}();A=function(){function c(a){var b,e=this;b=a.a;if(null==b)throw"container not specified.";if("string"===typeof b)this.a=document.querySelector(b);else if("object"===typeof b)this.a=b;else throw"Container must be a string or a dom element.";this.n(a,"painter",new z);this.n(a,"data");this.n(a,"nbRows");this.n(a,"rowHeight");this.n(a,"columnWidths");this.n(a,"rowHeight");this.n(a,"headerHeight");this.ba=this.G.length;this.a.className+=" fattable";this.o=this.F*this.ca;this.s=I(this.G);this.h=
this.s[this.s.length-1];this.k={};this.cells={};B.ha(function(){return e.ga()})}c.prototype.n=function(a,b,e){if(null==a[b]){if(void 0===e)throw"Expected parameter <"+b+">";this[b]=e}else this[b]=a[b]};c.prototype.visible=function(a,b){return[u(b/this.F|0,0,this.ca-this.e),u(H(this.s,a),0,this.ba-this.c)]};c.prototype.ga=function(){var a,b,e,d,c,g,k,h=this;this.g.S(this);this.k={};this.cells={};this.a.innerHTML="";this.ia=this.a.offsetWidth;this.X=this.a.offsetHeight-this.C;this.c=Math.min(J(this.s,
this.ia)+2,this.G.length);this.e=(this.X/this.F|0)+2;this.m=document.createElement("div");this.m.className+=" fattable-header-container";this.m.style.height=this.C+"px";this.q=document.createElement("div");this.q.className="fattable-viewport";this.q.style.width=this.h+"px";this.q.style.height=this.C+"px";this.m.appendChild(this.q);this.i=document.createElement("div");this.i.className="fattable-body-container";this.i.style.top=this.C+"px";this.j=document.createElement("div");this.j.className="fattable-viewport";
this.j.style.width=this.h+"px";this.j.style.height=this.o+"px";d=a=this.c;for(g=2*this.c;a<g;d=a+=1)for(e=c=this.e,k=2*this.e;c<k;e=c+=1)b=document.createElement("div"),b.b=!1,b.style.height=this.F+"px",this.j.appendChild(b),this.cells[e+","+d]=b;a=c=this.c;for(g=2*this.c;c<g;a=c+=1)b=document.createElement("div"),b.style.height=this.C+"px",b.b=!1,this.k[a]=b,this.q.appendChild(b);this.u=this.e;this.l=this.c;this.M(0,0);this.a.appendChild(this.i);this.a.appendChild(this.m);this.i.appendChild(this.j);
this.O();this.ea=new G(this.i,this.h,this.o);return this.ea.r=function(a,b){var c;c=h.visible(a,b);e=c[0];d=c[1];h.M(e,d);h.q.style.left=-a+"px";h.j.style.left=-a+"px";h.j.style.top=-b+"px";clearTimeout(h.fa);h.fa=setTimeout(h.O.bind(h),200);return h.r(a,b)}};c.prototype.O=function(){var a,b,c,d,f,g,k,h,l,m=this;g=function(a){a.b&&m.data.A(d,function(b){a.b=!1;return m.g.L(a,b)})};l=[];d=k=this.l;for(h=this.l+this.c;k<h;d=k+=1)b=this.k[d],g(b),l.push(function(){var b,h,g,k=this;g=[];c=b=this.u;for(h=
this.u+this.e;b<h;c=b+=1)f=c+","+d,a=this.cells[f],a.b?g.push(function(a){return k.data.v(c,d,function(b){a.b=!1;return k.g.H(a,b)})}(a)):g.push(void 0);return g}.call(this));return l};c.prototype.r=function(){};c.prototype.M=function(a,b){this.m.style.display="none";this.i.style.display="none";this.$(b);this.aa(a);this.m.style.display="";this.i.style.display=""};c.prototype.$=function(a){var b,c,d,f,g,k,h,l,m,n,q,r,p,s,t,w=this;m=this.u;q=a-this.l;if(0!==q){k=Math.min(Math.abs(q),this.c);for(b=p=
0;p<k;b=p+=1)for(0<q?(n=this.l+b,g=a+b+this.c-k):(n=this.l+this.c-k+b,g=a+b),d=this.s[g]+"px",c=this.G[g]+"px",f=this.k[n],delete this.k[n],this.data.I(g)?this.data.A(g,function(a){f.b=!1;return w.g.L(f,a)}):f.b||(f.b=!0,this.g.W(f)),f.style.left=d,f.style.width=c,this.k[g]=f,r=function(a){w.data.B(h,g)?w.data.v(h,g,function(b){a.b=!1;return w.g.H(a,b)}):a.b||(a.b=!0,w.g.K(a))},h=s=m,t=m+this.e;s<t;h=s+=1)l=h+","+n,b=this.cells[l],delete this.cells[l],this.cells[h+","+g]=b,b.style.left=d,b.style.width=
c,r(b);this.l=a}};c.prototype.aa=function(a){var b,c,d,f,g,k,h,l,m,n,q,r,p,s,t=this;k=this.u;h=this.l;n=a-k;if(0!==n){d=Math.min(Math.abs(n),this.e);for(b=r=0;r<d;b=r+=1)for(0<n?(l=k+b,c=a+b+this.e-d):(l=k+this.e-d+b,c=a+b),m=c*this.F+"px",q=function(a){t.data.B(c,f)?t.data.v(c,f,function(b){a.b=!1;return t.g.H(a,b)}):a.b||(a.b=!0,t.g.K(a))},f=p=h,s=h+this.c;p<s;f=p+=1)g=l+","+f,b=this.cells[g],delete this.cells[g],this.cells[c+","+f]=b,b.style.top=m,q(b);this.u=a}};return c}();C=function(c){return new A(c)};
v={ma:y,na:A,ka:z,ja:v,la:x,bound:u};for(D in v)x=v[D],C[D]=x;window.oa=C}).call(this);
