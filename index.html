
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="fattable.css">
</head>
<body>




    <div id="container">
    </div>
    <script src="fattable.js"></script>
    <script>

    var nbCols = 100000;
    var columnWidths = [];
    for (var i=0; i<nbCols ; i++) {
        var columnWidth = (100 + Math.random() * 80 | 0);
        columnWidths.push(columnWidth);
    };

    var myData = new fattable.PagedAsyncTableData();
    myData.cellPageName = function(i,j) {
        return JSON.stringify([i - (i & 255),j - (j & 255)]);
    }
    myData.fetchCellPage = function(pageName, cb) {
        var deferred = function() {
            var coords = JSON.parse(pageName);
            var I = coords[0];
            var J = coords[1];
            var page = function(i,j) {
                return pageName + ":" + (i - I) + "," + (j - J);    
            }
            cb(page);
        }
        window.setTimeout(deferred, 500);
    }
    
    fattable({
        "container": "#container",
        "data": myData,
        "nbRows": 100000,
        "headerHeight": 100,   
        "rowHeight":  25,
        "columnWidths": columnWidths
    });

    </script>
</body>
</html>